<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
        integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="./CSS/index.css" />
</head>

<body>
    <div class="navbar">
        <div class="nav-left">
            <label class="checkbtn" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </label>
            <label class="logo">BOOK WEB</label>
        </div>

        <ul id="menu-list">
            <li><a href="./index.html">Home</a></li>
            <li><a href="./HTML/help.html">Help</a></li>
            <li><a href="#">My Books</a></li>
            <li><a href="./HTML/about us.html">About Us</a></li>
            <li><a href="./HTML/contact us.html">Contact Us</a></li>
        </ul>

        <div class="navbar-right">
            <a href="javascript:void(0)"><i class="fa-solid fa-magnifying-glass"></i></a>
            <div id="profileIcon"><i class="fa-solid fa-circle-user"></i></div>
        </div>
    </div>


    <h1 style="padding-top: 10px;">Select your class</h1>
    <div class="container">

        <a href="">
            <div class="box">class 9</div>
        </a>
        <a href="#">
            <div class="box">Class 10</div>
        </a>
        <a href="#">
            <div class="box">Class 11</div>
        </a>
        <a href="#">
            <div class="box">Class 12</div>
        </a>
        <a href="#">
            <div class="box">Diploma CSE</div>

        </a>

    </div><br>
    <a href="./HTML/upload book.html">
        <button class="upload-btn">Upload Book</button>
    </a>


    <div class="features">
        <div class="feature">
            <h1>Features books</h1>
        </div>
        <br>
        <div class="books">
            <div class="book">
                <div><img src="./IMAGES/physics.jpg" alt="book1" />
                    <h3>Physics</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>

            </div>

            <div class="book">
                <div><img src="./IMAGES/Chemistry.jpg" alt="book1" />
                    <h3>Chemistry</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>
            </div>
            <div class="book">
                <div><img src="./IMAGES/bio.jpg" alt="book2" />
                    <h3>Biology</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>
            </div>
            <div class="book">
                <div><img src="./IMAGES/maths.jpg" alt="book3" />
                    <h3>Maths</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>
            </div>
            <div class="book">
                <div><img src="./IMAGES/python.jpg" alt="book4" />
                    <h3>Pythoon</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>



            </div>

        </div>






    </div>

    <div class="features">
        <div class="books">





            <div class="book">
                <div><img src="./IMAGES/java.jpg" alt="book1" />
                    <h3>Java</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>

            </div>
            <div class="book">
                <div><img src="./IMAGES/js.jpg" alt="book1" />
                    <h3>JavaScript</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>
            </div>
            <div class="book">
                <div><img src="./IMAGES/c.jpg" alt="book2" />
                    <h3>C Programming</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>
            </div>
            <div class="book">
                <div><img src="./IMAGES/html.jpg" alt="book3" />
                    <h3>HTML</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>
            </div>
            <div class="book">
                <div><img src="./IMAGES/c++.jpg" alt="book4" />
                    <h3> C++</h3>
                    <p>Author:R.D.Sharma</p>
                    <button><a href="./HTML/Exchange.html">Exchange</a></button>
                </div>
            </div>

        </div>
    </div>



    <footer>
        <div class="footer-container">

            <div class="footer-box">
                <h3>About Us</h3>
                <p>We are a student-driven online platform that allows you to exchange books easily and affordably.
                    Reduce waste, share knowledge, and connect with readers.</p>
            </div>

            <div class="footer-box">
                <h3>Quick Links</h3>
                <a href="#">Home</a><br>
                <a href="#">Browse Books</a><br>
                <a href="#">Post a Book</a><br>
                <a href="#">Login / Register</a>

            </div>

            <div class="footer-box">
                <h3>Contact Info</h3>
                <p>Email: support@bookexchange.com</p>
                <p>Phone: +91-9876543210</p>
                <p>Address: Patna,Bihar, India</p>
            </div>
            <div class="footer-box">
                <h3>Follow Us</h3>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook"></i>Facebook</a><br>
                    <a href="#"><i class="fab fa-twitter"></i>Twitter</a><br>
                    <a href="#"><i class="fab fa-instagram"></i>Instagram</a><br>
                    <a href="#"><i class="fab fa-linkedin"></i>Linkedin</a>
                </div>
            </div>


        </div>

        <div class="footer-bottom">
            annajxbcndbscnscdsbjka
        </div>
    </footer>

    <script>
        document.getElementById("menu-toggle").addEventListener("click", function () {
            document.getElementById("menu-list").classList.toggle("show");
        });
        window.addEventListener("DOMContentLoaded", () => {
  const userData = localStorage.getItem("user");
  const profileIcon = document.getElementById("profileIcon");
  if (userData) {
    
  const user = JSON.parse(userData);
    const firstLetter = user.name.charAt(0).toUpperCase();
    document.getElementById("profileIcon").innerHTML = `<div class="profile-circle" id="profileLetter">${firstLetter}</div>`;
     // Event listener abhi add karo
        const profileLetter = document.getElementById("profileLetter");
        if (profileLetter) {
            profileLetter.addEventListener("click", () => {
                
                alert(`User Details:\n\nName: ${user.name}\nMobile: ${user.mobileno || "N/A"}\nToken: ${user.token}`);
            });
  }
  }
      else {
    // ðŸ”¹ User login nahi hai â†’ click par login page open
    profileIcon.addEventListener("click", () => {
      window.location.href = "./HTML/home.html";
    });
  }

      async function loadBooks() {
    try {
      // Backend se books laao
      const response = await fetch("http://localhost:5000/books");
      const books = await response.json();

      // Jaha books dikhani hai (aapke index.html me .features .books div hai)
      const booksContainer = document.querySelector(".features .books");
      booksContainer.innerHTML = ""; // purane static books hata do

      // Har book ko add karo
      books.forEach(book => {
        const bookDiv = document.createElement("div");
        bookDiv.classList.add("book");
        bookDiv.innerHTML = `
          <div>
            <img src="./IMAGES/physics.jpg" alt="book" />
            <h3>${book.bookname}</h3>
            <p>Author: ${book.bookauthor}</p>
            <p>Price: â‚¹${book.bookprice || "Free"}</p>
            <button><a href="./HTML/Exchange .html">Exchange</a></button>
          </div>
        `;
        booksContainer.appendChild(bookDiv);
      });
    } catch (error) {
      console.error("Error loading books:", error);
    }
  }

  // Page load hote hi books fetch karo
loadBooks();
  
});

       

    </script>




<script>

   
  // YouTube-style search box
const searchIcon = document.querySelector(".navbar-right a i.fa-magnifying-glass");
const navbarRight = document.querySelector(".navbar-right");

// Input box create dynamically
const searchInput = document.createElement("input");
searchInput.type = "text";
searchInput.placeholder = "Search books...";
searchInput.style.cssText = `
  width: 0;
  padding: 5px 10px;
  border: 1px rgb(114, 60, 60);
  border-radius: 20px;
  outline: none;
  transition: width 0.3s ease, padding 0.3s ease;
  margin-left: 10px;
  display: inline-block;
   background: transparent;   `;
navbarRight.appendChild(searchInput);

// Click on search icon
searchIcon.addEventListener("click", (e) => {
  e.stopPropagation(); // prevent collapse immediately
  if (searchInput.style.width === "0px" || searchInput.style.width === "") {
    searchInput.style.width = "200px";
    searchInput.style.padding = "5px 10px";
    searchInput.focus();
    searchInput.style.background="white";
    searchInput.style.border=" 1px solid black";
    
  } else {
    searchInput.style.width = "0";
    searchInput.style.padding = "0";
    

  }
});

// Collapse search box when clicking outside
document.addEventListener("click", (e) => {
  if (e.target !== searchIcon && e.target !== searchInput) {
    searchInput.style.width = "0";
    searchInput.style.padding = "0";
  }
});

// Optional: Enter press event
searchInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    alert("Searching for: " + searchInput.value);
    // Yahan aap search API call ya page redirect kar sakte ho
  }
});

</script>
</body>

</html>
